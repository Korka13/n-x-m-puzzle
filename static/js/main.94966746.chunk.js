(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(45)},28:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(19),i=a.n(l),o=a(9),r=(a(28),a(15)),c=a(2),u=a(3),m=a(6),h=a(4),p=a(5),d=a(1),v=a(12),f=(a(31),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.animateCell(this.props.yIndex,this.props.xIndex)}},{key:"render",value:function(){var e;if(this.props.ncols%2===0)for(var t=1,a=[],s=[],l=0;l<this.props.nrows;l++){if(l%2===0)for(var i=0;i<this.props.ncols;i++)a.push(t),t++;else for(var o=0;o<this.props.ncols;o++)s.push(t),t++;e="Cell"+(null===this.props.cell?" Cell-empty":a.includes(this.props.cell)&&this.props.cell%2===0?" Cell-even":s.includes(this.props.cell)&&this.props.cell%2!==0?" Cell-even":" Cell-odd")}else e="Cell"+(null===this.props.cell?" Cell-empty":this.props.cell%2===0?" Cell-even":" Cell-odd");return this.props.isMoving&&(e+=" move-".concat(this.props.direction)),n.a.createElement("td",{className:e,onClick:this.handleClick},this.props.cell)}}]),t}(s.Component)),b=(a(33),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){if(this.props.parameter)this.props.action(this.props.parameter);else{if(!this.props.action)return;this.props.action()}}},{key:"render",value:function(){return n.a.createElement("button",{className:"Button",onClick:this.handleClick},this.props.children)}}]),t}(s.Component)),g=(a(35),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={hasWon:!1,board:a.createBoard(),movingCell:null,singleMoves:0,multipleMoves:0,timerOn:!1,timerStart:0,millisecondsPassed:0,timerTime:"00 : 00 : 00 : 00"},a.animateCell=a.animateCell.bind(Object(d.a)(Object(d.a)(a))),a.goToPreviousPage=a.goToPreviousPage.bind(Object(d.a)(Object(d.a)(a))),a.startTimer=a.startTimer.bind(Object(d.a)(Object(d.a)(a))),a.stopTimer=a.stopTimer.bind(Object(d.a)(Object(d.a)(a))),a.replayGame=a.replayGame.bind(Object(d.a)(Object(d.a)(a))),a.goToNextLevel=a.goToNextLevel.bind(Object(d.a)(Object(d.a)(a))),a.handleKeyPress=a.handleKeyPress.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.startTimer(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.replayGame()}},{key:"componentWillUnmount",value:function(){this.stopTimer(),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"getRows",value:function(){return this.props.rows>1?this.props.rows:2}},{key:"getCols",value:function(){return this.props.columns>1?this.props.columns:2}},{key:"buildSequence",value:function(){for(var e=[],t=1;t<this.getRows()*this.getCols();t++)e.push(t);return e.push(null),e}},{key:"createBoard",value:function(){var e=this.buildSequence();this.props.shuffle&&(e=this.shuffleSequence(e));for(var t=[],a=0;a<this.getRows();a++){for(var s=[],n=0;n<this.getCols();n++){var l=e.splice(0,1)[0];s.push(l)}t.push(s)}return t}},{key:"shuffleSequence",value:function(e){for(var t=[],a=0;a<this.getRows()*this.getCols();a++){var s=Math.floor(Math.random()*e.length),n=e.splice(s,1)[0];t.push(n)}return this.checkSolvability(t)?t:this.shuffleSequence(t)}},{key:"checkSolvability",value:function(e){for(var t,a=0,s=0,n=0;n<e.length;n++){n%this.getCols()===0&&a++,null===e[n]&&(t=a);for(var l=n+1;l<e.length;l++)e[n]>e[l]&&null!==e[l]&&s++}return this.getCols()%2===0?(this.getRows()-t)%2===0?(console.log(s%2===0),s%2===0):(console.log(s%2!==0),s%2!==0):(console.log(s%2===0),s%2===0)}},{key:"checkWinner",value:function(e){for(var t=this.buildSequence(),a=0;a<t.length;a++)if(e[a]!==t[a])return!1;"levels"===this.props.playingMode&&this.props.winGame(this.props.level),this.stopTimer();var s=this.millisecondsToHours(this.state.millisecondsPassed),n=s.hours,l=s.minutes,i=s.seconds,o=s.centiseconds,r={fullDate:(new Date).toJSON(),table:"".concat(this.getCols()," X ").concat(this.getCols()," - ").concat("levels"===this.props.playingMode?"Level ".concat(this.props.level):"Free Play - ".concat(this.props.shuffle?"Shuffle":"Ordered")),singleMoves:this.state.singleMoves,multipleMoves:this.state.multipleMoves,resolutionTime:"".concat(n,"hr : ").concat(l,"min : ").concat(i,"sec : ").concat(o,"cs"),id:Date.now()};return this.props.updateStats(r),!0}},{key:"moveCell",value:function(e){var t=[].concat.apply([],e),a=this.checkWinner(t);this.setState({board:e,hasWon:a,movingCell:null})}},{key:"findEmptyCellCoordinates",value:function(){var e={x:0,y:0};return this.state.board.forEach(function(t,a){t.forEach(function(t,s){null===t&&(e.y=a,e.x=s)})}),e}},{key:"animateCell",value:function(e,t){var a=this;if(!this.state.movingCell){var s,n=JSON.parse(JSON.stringify(this.state.board)),l=[e],i=[t],o=0,r=0,c=this.findEmptyCellCoordinates();if(t===c.x){if(e<c.y)for(var u=c.y;u>e;u--)n[u][t]=n[u-1][t],l.push(u-1),s="down",o++;else if(e>c.y)for(var m=c.y;m<e;m++)n[m][t]=n[m+1][t],l.push(m+1),s="up",o++;n[e][t]=null,r++}if(e===c.y){if(t<c.x)for(var h=c.x;h>t;h--)n[e][h]=n[e][h-1],i.push(h-1),s="right",o++;else if(t>c.x)for(var p=c.x;p<t;p++)n[e][p]=n[e][p+1],i.push(p+1),s="left",o++;n[e][t]=null,r++}this.setState(function(e){return{singleMoves:e.singleMoves+o,multipleMoves:e.multipleMoves+r,movingCell:{y:l,x:i,direction:s}}},function(){setTimeout(function(){a.moveCell(n)},200)})}}},{key:"makeTable",value:function(){var e=this,t=this.state.board.map(function(t,a){return n.a.createElement("tr",{key:a},t.map(function(t,s){return n.a.createElement(f,{key:"".concat(a,"-").concat(s),cell:t,animateCell:e.animateCell,yIndex:a,xIndex:s,ncols:e.getCols(),nrows:e.getRows(),isMoving:!!(e.state.movingCell&&e.state.movingCell.y.includes(a)&&e.state.movingCell.x.includes(s)),direction:e.state.movingCell&&e.state.movingCell.y.includes(a)&&e.state.movingCell.x.includes(s)?e.state.movingCell.direction:null})}))});return n.a.createElement("table",{className:"Board"},n.a.createElement("tbody",null,t))}},{key:"handleKeyPress",value:function(e){var t="which"in e?e.which:e.keyCode,a=this.findEmptyCellCoordinates(),s=a.x,n=a.y;37!==t&&38!==t&&39!==t&&40!==t||e.preventDefault(),37===t&&s+1<this.getCols()&&this.animateCell(n,s+1),38===t&&n+1<this.getRows()&&this.animateCell(n+1,s),39===t&&s-1>=0&&this.animateCell(n,s-1),40===t&&n-1>=0&&this.animateCell(n-1,s)}},{key:"startTimer",value:function(){var e=this;this.setState({timerOn:!0,timerStart:Date.now()-this.state.millisecondsPassed},function(){e.timer=setInterval(function(){var t=Date.now()-e.state.timerStart,a=e.millisecondsToHours(t),s=a.hours,n=a.minutes,l=a.seconds,i=a.centiseconds;e.setState({timerTime:"".concat(s," : ").concat(n," : ").concat(l," : ").concat(i),millisecondsPassed:t})},10)})}},{key:"stopTimer",value:function(){this.setState({timerOn:!1}),clearInterval(this.timer)}},{key:"millisecondsToHours",value:function(e){return{hours:("0"+Math.floor(e/36e5)).slice(-2),minutes:("0"+Math.floor(e/6e4)%60).slice(-2),seconds:("0"+Math.floor(e/1e3)%60).slice(-2),centiseconds:("0"+Math.floor(e/10)%100).slice(-2)}}},{key:"goToPreviousPage",value:function(){this.props.history.push("/".concat(this.props.playingMode))}},{key:"replayGame",value:function(){var e=this;this.setState({board:this.createBoard(),hasWon:!1,singleMoves:0,multipleMoves:0,timerStart:0,millisecondsPassed:0,timerTime:"00 : 00 : 00 : 00"},function(){return e.startTimer()})}},{key:"goToNextLevel",value:function(){this.props.history.push("/level/".concat(1+Number(this.props.level)))}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.hasWon&&n.a.createElement("h1",null,"YOU WIN!"),!this.state.hasWon&&this.state.timerOn&&n.a.createElement("div",null,this.makeTable()),n.a.createElement("div",{className:"Timer"},n.a.createElement("div",{className:"Timer-display"},this.state.timerTime),this.state.timerOn&&n.a.createElement(b,{action:this.stopTimer},"Pause"),!this.state.timerOn&&!this.state.hasWon&&n.a.createElement(b,{action:this.startTimer},"Resume")),n.a.createElement("h2",null,"Single Moves: ",this.state.singleMoves),n.a.createElement("h2",null,"Multiple Moves: ",this.state.multipleMoves),this.state.hasWon&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b,{action:this.goToPreviousPage},"Back to"," ","levels"===this.props.playingMode?"all Levels":"Free Play page"),n.a.createElement(b,{action:this.replayGame},"Replay")),this.state.hasWon&&"levels"===this.props.playingMode&&Number(this.props.level)!==Number(this.props.allLevels[this.props.allLevels.length-1])&&n.a.createElement(b,{action:this.goToNextLevel},"Next Level"))}}]),t}(s.Component));g.defaultProps={rows:4,columns:4,shuffle:!0};var y=Object(v.f)(g),O=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat inventore facere doloremque odit dignissimos autem quis quibusdam aliquam aut suscipit ea nemo ipsa sapiente dolores, minus eaque voluptates. Veritatis enim accusantium, sit eligendi sed vel deleniti magnam corrupti quis delectus blanditiis velit deserunt ex corporis obcaecati qui, fugiat unde impedit!"),n.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat inventore facere doloremque odit dignissimos autem quis quibusdam aliquam aut suscipit ea nemo ipsa sapiente dolores, minus eaque voluptates. Veritatis enim accusantium, sit eligendi sed vel deleniti magnam corrupti quis delectus blanditiis velit deserunt ex corporis obcaecati qui, fugiat unde impedit!"),n.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat inventore facere doloremque odit dignissimos autem quis quibusdam aliquam aut suscipit ea nemo ipsa sapiente dolores, minus eaque voluptates. Veritatis enim accusantium, sit eligendi sed vel deleniti magnam corrupti quis delectus blanditiis velit deserunt ex corporis obcaecati qui, fugiat unde impedit!"))}}]),t}(s.Component),C=a(22),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={columns:2,rows:2,shuffle:!0},a.handleNumberChange=a.handleNumberChange.bind(Object(d.a)(Object(d.a)(a))),a.handleCheckChange=a.handleCheckChange.bind(Object(d.a)(Object(d.a)(a))),a.goToGame=a.goToGame.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleNumberChange",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"handleCheckChange",value:function(e){this.setState({shuffle:e.target.checked})}},{key:"goToGame",value:function(){this.props.history.push("/freeplay/".concat(this.state.columns,"/").concat(this.state.rows,"/").concat(this.state.shuffle?"shuffle":"ordered"))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Free Play"),n.a.createElement("label",{htmlFor:"columns"},"Columns"),n.a.createElement("select",{name:"columns",id:"columns",onChange:this.handleNumberChange,value:this.state.columns},this.props.columns.map(function(e){return n.a.createElement("option",{key:e,value:e},e)})),n.a.createElement("label",{htmlFor:"rows"},"Rows"),n.a.createElement("select",{name:"rows",id:"rows",onChange:this.handleNumberChange,value:this.state.rows},this.props.rows.map(function(e){return n.a.createElement("option",{key:e,value:e},e)})),n.a.createElement("label",{htmlFor:"shuffle"},"Shuffle"),n.a.createElement("input",{name:"shuffle",type:"checkbox",id:"shuffle",checked:this.state.shuffle,onChange:this.handleCheckChange}),n.a.createElement("button",{onClick:this.goToGame},"Go!"))}}]),t}(s.Component),j=Object(v.f)(k),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).goToLevel=a.goToLevel.bind(Object(d.a)(Object(d.a)(a))),a.resetProgress=a.resetProgress.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"goToLevel",value:function(e){this.props.history.push("/level/".concat(e))}},{key:"resetProgress",value:function(){this.props.resetCompletedLevels(),this.props.makeAvailableLevels()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.levels.map(function(t){return n.a.createElement("button",{disabled:!e.props.makeAvailableLevels().includes(String(t)),key:t,onClick:function(){return e.goToLevel(t)}},"Level ",t)}),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.resetProgress},"Reset Progress")))}}]),t}(s.Component),S=Object(v.f)(E),w=(a(41),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).goToPage=a.goToPage.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"goToPage",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){return n.a.createElement("div",{className:"NavBar"},n.a.createElement("div",{className:"Title"},n.a.createElement("h1",null,"The Ultimate N x M Puzzle")),n.a.createElement("nav",null,n.a.createElement(b,{action:this.goToPage,parameter:"/"},"Home"),n.a.createElement(b,{action:this.goToPage,parameter:"/freeplay"},"Free Play"),n.a.createElement(b,{action:this.goToPage,parameter:"/levels"},"Levels"),n.a.createElement(b,{action:this.goToPage,parameter:"/stats"},"Stats")))}}]),t}(s.Component)),L=Object(v.f)(w),T={padding:"1rem",border:"2px solid white"},M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.deleteStat(this.props.id)}},{key:"render",value:function(){return n.a.createElement("div",{style:T},n.a.createElement("p",null,"Date:"," ".concat(new Date(this.props.fullDate).toDateString()," - ").concat(new Date(this.props.fullDate).toLocaleTimeString())),n.a.createElement("p",null,"Table: ",this.props.table),n.a.createElement("p",null,"Single Moves: ",this.props.singleMoves),n.a.createElement("p",null,"Multiple Moves: ",this.props.multipleMoves),n.a.createElement("p",null,"Time: : ",this.props.resolutionTime),n.a.createElement(b,{action:this.handleClick},"Delete"))}}]),t}(s.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(b,{action:this.props.deleteAllStats},"Delete all the statistics"),this.props.stats.map(function(t){return n.a.createElement(M,Object.assign({key:t.id},t,{deleteStat:e.props.deleteStat}))}))}}]),t}(s.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={completedLevels:JSON.parse(window.localStorage.getItem("completedLevelsNXMPuzzle")||"[]"),stats:JSON.parse(window.localStorage.getItem("statsNXMPuzzle")||"[]")},a.levels=a.numArrayList(1,a.props.numLevels),a.rowsRoutes=a.numArrayList(2,a.props.maxRows),a.columnsRoutes=a.numArrayList(2,a.props.maxColumns),a.updateCompeltedLevels=a.updateCompeltedLevels.bind(Object(d.a)(Object(d.a)(a))),a.resetCompletedLevels=a.resetCompletedLevels.bind(Object(d.a)(Object(d.a)(a))),a.updateStats=a.updateStats.bind(Object(d.a)(Object(d.a)(a))),a.deleteAllStats=a.deleteAllStats.bind(Object(d.a)(Object(d.a)(a))),a.makeAvailableLevels=a.makeAvailableLevels.bind(Object(d.a)(Object(d.a)(a))),a.deleteStat=a.deleteStat.bind(Object(d.a)(Object(d.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"numArrayList",value:function(e,t){return Array.from({length:t-e+1},function(t,a){return e+a})}},{key:"makeAvailableRoutes",value:function(e){return e.map(function(e){return e}).join("|")}},{key:"updateCompeltedLevels",value:function(e){var t=this;this.state.completedLevels.includes(e)||this.setState(function(t){var a=t.completedLevels;return{completedLevels:[].concat(Object(r.a)(a),[e])}},function(){return window.localStorage.setItem("completedLevelsNXMPuzzle",JSON.stringify(t.state.completedLevels))})}},{key:"resetCompletedLevels",value:function(){var e=this;this.setState({completedLevels:[]},function(){window.localStorage.setItem("completedLevelsNXMPuzzle",JSON.stringify(e.state.completedLevels))})}},{key:"makeAvailableLevels",value:function(){var e=Array.from(this.state.completedLevels);return 0===e.length?e.push("1"):e.length!==this.levels.length&&e.push(String(1+Number(this.state.completedLevels[this.state.completedLevels.length-1]))),e}},{key:"updateStats",value:function(e){var t=this;this.setState(function(t){var a=t.stats;return{stats:[e].concat(Object(r.a)(a))}},function(){return window.localStorage.setItem("statsNXMPuzzle",JSON.stringify(t.state.stats))})}},{key:"deleteStat",value:function(e){this.setState({stats:this.state.stats.filter(function(t){return t.id!==e})})}},{key:"deleteAllStats",value:function(){var e=this;this.setState({stats:[]},function(){window.localStorage.setItem("statsNXMPuzzle",JSON.stringify(e.state.stats))})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Game"},n.a.createElement(L,null),n.a.createElement(v.c,null,n.a.createElement(v.a,{exact:!0,path:"/",component:O}),n.a.createElement(v.a,{exact:!0,path:"/freeplay",render:function(){return n.a.createElement(j,{rows:e.rowsRoutes,columns:e.columnsRoutes})}}),n.a.createElement(v.a,{exact:!0,path:"/levels",render:function(){return n.a.createElement(S,{levels:e.levels,completedLevels:e.state.completedLevels,makeAvailableLevels:e.makeAvailableLevels,resetCompletedLevels:e.resetCompletedLevels})}}),n.a.createElement(v.a,{exact:!0,path:"/freeplay/:columns(".concat(this.makeAvailableRoutes(this.columnsRoutes),")/:rows(").concat(this.makeAvailableRoutes(this.rowsRoutes),")/:shuffle(shuffle|ordered)"),render:function(t){return n.a.createElement(y,{columns:t.match.params.columns,rows:t.match.params.rows,shuffle:"shuffle"===t.match.params.shuffle,playingMode:"freeplay",updateStats:e.updateStats})}}),n.a.createElement(v.a,{exact:!0,path:"/level/:level(".concat(this.makeAvailableRoutes(this.makeAvailableLevels()),")"),render:function(t){for(var a=1,s=2,l=2;a<t.match.params.level;)a%2===0?s++:l++,a++;return n.a.createElement(y,{columns:s,rows:l,playingMode:"levels",level:t.match.params.level,winGame:e.updateCompeltedLevels,updateStats:e.updateStats,allLevels:e.levels})}}),n.a.createElement(v.a,{exact:!0,path:"/stats",render:function(){return n.a.createElement(P,{stats:e.state.stats,deleteAllStats:e.deleteAllStats,deleteStat:e.deleteStat})}}),n.a.createElement(v.a,{render:function(){return n.a.createElement("h1",null,"NOT FOUND")}})))}}]),t}(s.Component);N.defaultProps={numLevels:17,maxRows:30,maxColumns:30};var x=N,q=(a(43),function(){return n.a.createElement("div",{className:"App"},n.a.createElement(x,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(o.a,null,n.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.94966746.chunk.js.map